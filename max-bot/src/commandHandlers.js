import { MainKeyboards } from './mainKeyboards.js';
import { BOT_CONFIG } from './config.js';

export class CommandHandlers {
  static async start(ctx) {
    const welcomeText = `üëã *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ InfoPulse MAX Bot!*

ü§ñ *–Ø –≤–∞—à AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π*

‚ú® *–ß—Ç–æ —è —É–º–µ—é:*
‚Ä¢ üîç –ò—Å–∫–∞—Ç—å —Å–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ –ª—é–±–æ–π —Ç–µ–º–µ
‚Ä¢ üìä –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å trending —Ç–µ–º—ã
‚Ä¢ üí° –ü—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚Ä¢ ü§ñ –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã

üí¨ *–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ, —á—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –∏ —è –Ω–∞–π–¥—É —Å–∞–º—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏!*`;

    await ctx.reply(welcomeText, {
      format: 'markdown',
      attachments: [MainKeyboards.getMainMenu()]
    });
  }

  static async help(ctx) {
    const helpText = `üìñ *–ü–æ–º–æ—â—å –ø–æ InfoPulse Bot*

*–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:*
/start - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
/help - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞  
/chat - –ù–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ —Å –±–æ—Ç–æ–º

*–ß—Ç–æ —è –º–æ–≥—É –Ω–∞–π—Ç–∏:*
‚Ä¢ –ù–æ–≤–æ—Å—Ç–∏ –ø–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º, —Å–ø–æ—Ä—Ç—É, –ø–æ–ª–∏—Ç–∏–∫–µ
‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ –º–∏—Ä–µ
‚Ä¢ Trending —Ç–µ–º—ã
‚Ä¢ –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

*–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:*
"–Ω–æ–≤–æ—Å—Ç–∏ –æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö"
"—á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Å–ø–æ—Ä—Ç–µ" 
"–ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è"
"–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç 2024"

üí° *–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ —Ç–µ–º—É, –∏ —è –Ω–∞–π–¥—É —Å–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏!*`;

    await ctx.reply(helpText, {
      format: 'markdown',
      attachments: [MainKeyboards.getMainMenu()]
    });
  }

  static async config(ctx) {
  const configText = `‚öôÔ∏è *–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞*

*–¢–æ–∫–µ–Ω:* ${BOT_CONFIG.BOT_TOKEN ? '‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω' : '‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}
*–ê–¥–º–∏–Ω—ã:* ${BOT_CONFIG.ADMIN_IDS.join(', ') || '–Ω–µ —É–∫–∞–∑–∞–Ω—ã'}
*–†–µ–∂–∏–º:* ${BOT_CONFIG.NODE_ENV}
*WEB_APP_URL:* ${BOT_CONFIG.WEB_APP_URL || '–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω'}

*–í–∞—à ID:* ${ctx.user?.user_id}
*–ê–¥–º–∏–Ω —Å—Ç–∞—Ç—É—Å:* ${ctx.isAdmin ? '‚úÖ –î–∞' : '‚ùå –ù–µ—Ç'}

*–ü—É—Ç—å –∫ .env:* max-bot/.env`;

  await ctx.reply(configText, { format: 'markdown' });
}

  static async chat(ctx) {
    const chatText = `üí¨ *–ß–∞—Ç —Å AI-–ø–æ–º–æ—â–Ω–∏–∫–æ–º*

–ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –∏—â–∏—Ç–µ –Ω–æ–≤–æ—Å—Ç–∏! –Ø –ø–æ–º–æ–≥—É:

‚Ä¢ üîç –ù–∞–π—Ç–∏ —Å–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ –ª—é–±–æ–π —Ç–µ–º–µ
‚Ä¢ üìä –ü–æ–∫–∞–∑–∞—Ç—å trending —Ç–µ–º—ã
‚Ä¢ üí° –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚Ä¢ ü§ñ –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã

*–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:*
"–Ω–æ–≤–æ—Å—Ç–∏ –æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö"
"—á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Å–ø–æ—Ä—Ç–µ"
"–ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è"
"—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –†–æ—Å—Å–∏–∏"

üéØ *–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ, —á—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç!*`;

    await ctx.reply(chatText, {
      format: 'markdown',
      attachments: [MainKeyboards.getChatKeyboard()]
    });
  }

  static async settings(ctx) {
    const settingsText = `‚öôÔ∏è *–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞*

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–±–æ—Ç—É –±–æ—Ç–∞ –ø–æ–¥ —Å–≤–æ–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è:

‚Ä¢ üîî *–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è* - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è–º–∏
‚Ä¢ üåô *–¢–µ–º–∞* - —Å–º–µ–Ω–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞
‚Ä¢ üìä *–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞* - –≤–∞—à–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

*–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏* –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –≤–µ–±-–≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.`;

    await ctx.reply(settingsText, {
      format: 'markdown',
      attachments: [MainKeyboards.getSettingsKeyboard()]
    });
  }

  static async admin(ctx) {
    if (!ctx.isAdmin) {
      await ctx.reply('‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.');
      return;
    }

    const adminText = `üõ†Ô∏è *–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å InfoPulse*

*–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã:*
‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è...
‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π: –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è...
‚Ä¢ –°–æ–æ–±—â–µ–Ω–∏–π: –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è...

*–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:*
‚Ä¢ üìä –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚Ä¢ üì¢ –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞
‚Ä¢ üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏`;

    await ctx.reply(adminText, {
      format: 'markdown',
      attachments: [MainKeyboards.getAdminKeyboard()]
    });
  }
}